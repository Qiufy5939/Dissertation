<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dictionary</title>
    <link rel="icon" href="../static/img/favicon1.ico" type="image/x-icon">

    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- jquery -->
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/1.10.0/jquery.js"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>

    <!-- 实现iframe自调整的second js file -->
    <script src="../static/js/iframeResizer.contentWindow.min.js"></script>

    <link href="../static/css/style_dictionary.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<!--<nav class="navbar navbar-default">-->
<!--    <div class="container-fluid">-->
<!--        <div class="navbar-header">-->
<!--            <a class="navbar-brand">-->
<!--                <img alt="Brand" src="../static/img/favicon1.ico" height="100%">-->
<!--            </a>-->
<!--            <div class="navbar-brand">-->
<!--                <p class="text-orange">汉语词典</p>-->
<!--            </div>-->
<!--            <div class="row">-->
<!--                <div class="col-lg-6">-->
<!--                    <div class="input-group">-->
<!--                        <input type="text" id="queryword1" class="form-control" placeholder="请输入您要查询释义的字词......">-->
<!--                        <span class="input-group-btn"><button class="btn btn-success" type="button" onclick="clickButton()">查询释义</button></span>-->
<!--                    </div>&lt;!&ndash; /input-group &ndash;&gt;-->
<!--                </div>&lt;!&ndash; /.col-lg-6 &ndash;&gt;-->
<!--            </div>&lt;!&ndash; /.row &ndash;&gt;-->
<!--        </div>-->
<!--    </div>-->
<!--</nav>-->
<div>
    <div class="row">
        <div>
            <div class="col-sm-3">
                <img src="../static/img/favicon1.ico" width="10%" style="float: left;margin-left: 35%">
            </div>
            <div class="col-sm-3">
                <h1 class="text-orange">汉语词典</h1>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <div class="input-group">
                <input type="text" id="queryword" class="form-control" placeholder="请输入您要查询释义的字词......">
                <span class="input-group-btn"><button class="btn btn-warning" type="button" onclick="clickButton()">查询释义</button></span>
            </div><!-- /input-group -->
        </div><!-- /.col-lg-6 -->
    </div><!-- /.row -->
    <hr>
    <hr>
</div>
<!--词典-->
<div id="mycontent1">
    <div class="text-mybig">
        <strong id="vocabulary">中国</strong>
        <span class="text-success text-mysmall">
                <b>[ <span id="pinyin">zhōng guó</span> ]</b>
                </span>
    </div>
    <hr>
    <div>
        <span class="text-mysmall2 text-danger"><b id="english">Central Plains; China; capital</b></span>
    </div>
    <hr>
    <!-- main -->
    <div class="row clearfix text-mysmall3">
        <div class="col-md-12 column">
            <div class="tabbable" id="tabs-331637">
                <ul class="nav nav-tabs">
                    <li class="active">
                        <a href="#panel-479576" data-toggle="tab">基本解释</a>
                    </li>
                    <li>
                        <a href="#panel-576402" data-toggle="tab">详细解释</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane active" id="panel-479576">
                        <br/>
                        <span id="basiccontent">
                            <!-- selection1 -->
                            <p>中华人民共和国的简称。1949年10月1日成立。成立后的中国，通常称新中国；成立前的中国，通常称旧中国。中国是世界上历史最悠久的国家之一。</p>
                            </span>
                    </div>
                    <div class="tab-pane" id="panel-576402">
                        <br/>
                        <div id="detailcontent">
                            <!-- selection 2 -->
                            <li><p>上古时代，我国 华夏 族建国于 黄河 流域一带，以为居天下之中，故称中国，而把周围其他地区称为四方。后泛指中原地区。</p>
                                <p>详情</p></li>
                            <li><p>指生长、居住在中原地区的人。</p>
                                <p>详情</p></li>
                            <li><p>犹国家，朝廷。</p>
                                <p>详情</p></li>
                            <li><p>京师。</p>
                                <p>详情</p></li>
                            <li><p>我国的专称。</p>
                                <p>详情</p></li>
                            <li><p>指 恒河 中流一带的 中印度 ，佛教徒译称 中国 。参阅 晋 法显 《佛国记》。</p></li>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <hr>
    <div class="text-mysmall3">
        <strong class="text-primary">举例：</strong>
        <br/>
        <span id="example">1、<br/>   2、<br/>   3、<br/>   4、<br/></span>
    </div>
</div>
<!--字典-->
<div id="mycontent2">
    <div class="text-mybig">
        <strong id="character">中</strong>
        <span class="text-success text-mysmall">
                <b>[ <span id="pinyin2">zhōng</span> ]</b>
                </span>
    </div>
    <hr>
    <div class="text-mysmall3">
        笔画：<span class="text-danger"><b id="bihua">4</b></span><br/>
        部首：<span class="text-danger"><b id="bushou">丨</b></span><br/>
        结构：<span class="text-danger"><b id="jiegou">单一结构</b></span><br/>
        笔顺：<span class="text-danger"><b id="bishun">丨フ一丨</b></span><br/>
        五笔：<span class="text-danger"><b id="wubi">KHK</b></span><br/>
    </div>
    <hr>
    <!-- main -->
    <div class="row clearfix text-mysmall3">
        <div class="col-md-12 column">
            <div class="tabbable" id="tabs-331638">
                <ul class="nav nav-tabs">
                    <li class="active">
                        <a href="#panel-479577" data-toggle="tab">基本解释</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane active" id="panel-479577">
                        <br/>
                        <span id="explain">
                            <!-- selection1 -->
                            <strong class="text-primary">中</strong><br/>
                            <p>XXXXX</p>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr>
</div>
<!--暂未收录-->
<div id="mycontent3">
    <img src="../static/img/error.png"></div>
</div>
</body>


<script>
    function clickButton() {
        var queryword = document.getElementById("queryword").value;
        console.log(queryword)
        document.getElementById("mycontent1").style.display="none";
        document.getElementById("mycontent2").style.display="none";
        document.getElementById("mycontent3").style.display="none";
        if (queryword.length==1){
            $.ajax({
                type: "get",
                url: "https://api.jisuapi.com/zidian/word",
                data: {
                    appkey: '1ba5027970b9a208',
                    word: queryword
                },
                async: false,
                dataType: "jsonp",
                success: function (data) {
                    console.log("success");
                    console.log(data);
                    if (data.result!="") {
                        $("#character").text(data.result.name)
                        $("#pinyin2").text(data.result.pinyin)
                        $("#bihua").text(data.result.bihua)
                        $("#bushou").html(data.result.bushou)
                        $("#jiegou").html(data.result.jiegou)
                        $("#bishun").html(data.result.bishun)
                        $("#wubi").html(data.result.wubi)
                        var explainContent = '';
                        data.result.explain.forEach(e=>{
                            explainContent+=`
                            <strong class="text-primary">${e.pinyin}</strong><br/>
                            <p>${e.content.replace(/\n/g,"<br/>")}</p><hr>`;
                        });
                        document.getElementById("explain").innerHTML=explainContent;

                        document.getElementById("mycontent2").style.display="block";
                    }else {
                        document.getElementById("mycontent3").style.display="block";
                    }
                },
                error: function (e) {
                    console.log(e);
                    document.getElementById("mycontent3").style.display="block";
                }
            })
        }else if (queryword=='') {
            return;
        }else{
                $.ajax({
                    type: "get",
                    url: "https://api.jisuapi.com/cidian/word",
                    data: {
                        appkey: '1ba5027970b9a208',
                        word: queryword
                    },
                    async: false,
                    dataType: "jsonp",
                    success: function (data) {
                        console.log("success");
                        console.log(data);
                        if (data.result!="") {
                            $("#vocabulary").text(data.result.name)
                            $("#pinyin").text(data.result.pinyin)
                            $("#english").text(data.result.english)
                            $("#basiccontent").html(data.result.basiccontent)
                            $("#detailcontent").html(data.result.content)
                            $("#example").html(data.result.example)
                            document.getElementById("mycontent1").style.display="block";
                        }else {
                            document.getElementById("mycontent3").style.display="block";
                        }
                    },
                    error: function (e) {
                        console.log(e);
                        document.getElementById("mycontent3").style.display="block";
                    }
                })
        }
    }
</script>
</html>